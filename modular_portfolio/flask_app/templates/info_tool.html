{% extends "base.html" %}
{% block title %}Info Tool{% endblock %}
{% block content %}
<div class="container" style="max-width:700px;">
  <div class="card p-4 mb-4">
    <h1 class="mb-3">{{ plugin.metadata.name }}</h1>
    {% if readme_html %}
      <div class="mt-3" style="background:var(--readme-bg,#222); color:var(--readme-fg,#f8f9fa); padding:1.5rem; border-radius:10px; max-height:70vh; overflow:auto;">
        <div id="readme-content">{{ readme_html|safe }}</div>
      </div>
      <style>
        /* Responsive and theme-aware for README */
        #readme-content h1, #readme-content h2, #readme-content h3, #readme-content h4, #readme-content h5, #readme-content h6 {
          color: inherit;
        }
        #readme-content pre, #readme-content code {
          background: #181a1b;
          color: #f8f9fa;
          border-radius: 6px;
          padding: 0.2em 0.5em;
        }
        body[data-theme="light"] #readme-content pre, body[data-theme="light"] #readme-content code {
          background: #f4f4f7;
          color: #222;
        }
        #readme-content table {
          background: inherit;
          color: inherit;
          border-collapse: collapse;
        }
        #readme-content th, #readme-content td {
          border: 1px solid #888;
          padding: 0.4em 0.8em;
        }
        #readme-content a { color: #4da3ff; }
        body[data-theme="dark"] .card { background: #23272b; color: #f8f9fa; }
        body[data-theme="light"] .card { background: #fff; color: #222; }
      </style>
    {% else %}
      <p>{{ plugin.metadata.description }}</p>
      <h2>Documentation</h2>
      <ul>
        <li><b>Modes:</b> {{ plugin.metadata.type|join(', ') }}</li>
      </ul>
      <h2>Usage Example</h2>
      <pre>python start.py web</pre>
      <h2>Create New Module</h2>
      <pre>python utils/plugin_creator.py --name MyTool</pre>
      <p>**This will copy the plugin template into the 'addons' directory under a folder named your_plugin_name.</p>
    {% endif %}
    <hr>
    <a href="/" class="btn btn-secondary">Back to Home</a>
  </div>
</div>
{% endblock %}
